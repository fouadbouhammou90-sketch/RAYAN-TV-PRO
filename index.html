<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RAYAN TV</title>
  
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
  
  <meta name="theme-color" content="#BE4A4A">
  <meta name="author" content="rayan tv">
  <meta name="description" content="Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù‚Ù†ÙˆØ§ØªØŒ Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±ØŒ Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ Ù‚Ù†ÙˆØ§Øª ÙØ¶Ø§Ø¦ÙŠØ©ØŒ Ø§Ù„Ø£ÙÙ„Ø§Ù…ØŒ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§ØªØŒ Ù‚Ù†ÙˆØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ©ØŒ Ù‚Ù†ÙˆØ§Øª Ø¥Ø®Ø¨Ø§Ø±ÙŠØ©ØŒ Ù‚Ù†ÙˆØ§Øª ØªØ±ÙÙŠÙ‡ÙŠØ©. Watch channels, live streaming, world channels, satellite channels, movies, series, sports channels, news channels, entertainment channels.">
  <meta name="keywords" content="rayan tv, Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±, Ù‚Ù†ÙˆØ§Øª ÙØ¶Ø§Ø¦ÙŠØ©, Ø£ÙÙ„Ø§Ù…, Ù…Ø³Ù„Ø³Ù„Ø§Øª, Ø±ÙŠØ§Ø¶Ø©">
  <meta property="og:title" content="RAYAN TV">
  <meta property="og:description" content="ÙˆØµÙ Ù…ÙˆØ¬Ø² Ø¹Ù† Ø§Ù„ØµÙØ­Ø© ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§.">
  <meta property="og:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjxlegowTV89qwUU7M4lVGBnIimwC_NZNRPnOXiO5-NC4uwRGL-iRM-83pH3w38eSASAbtgllAJ6sRp9dc860OCI0eElbhp2poE1tBafj00AloDlXUxDWOHdC96naxNnoowvcyiVUxhxsaIzPVPlwCEr33OZ5IaGgl_gFlnZRxX6Af3bSXCDqwVtkzgN4c/s320/S5.png">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ar_AR">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjxlegowTV89qwUU7M4lVGBnIimwC_NZNRPnOXiO5-NC4uwRGL-iRM-83pH3w38eSASAbtgllAJ6sRp9dc860OCI0eElbhp2poE1tBafj00AloDlXUxDWOHdC96naxNnoowvcyiVUxhxsaIzPVPlwCEr33OZ5IaGgl_gFlnZRxX6Af3bSXCDqwVtkzgN4c/s320/S5.png">
  <link rel="icon" href="https://example.com/favicon.ico" type="image/x-icon">

  <style>
    /* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© --- */
    html, body {
        box-sizing: border-box;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background: var(--bg-color, #f4f6f8); 
        color: var(--text-color, #9D0F0F); 
        font-family: "Amiri", "Arial", sans-serif; 
        margin: 0;
        padding: 0;
        text-align: center;
        overflow-x: hidden;
        transition: background 0.3s, color 0.3s;
    }

    /* --- ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ (Dark Mode) --- */
    body.dark-mode {
        --bg-color: #1a1a2e; 
        --text-color: #ecf0f1; 
        --card-bg: #2c3e50; 
        --card-shadow: 0 2px 8px rgba(255,255,255,0.05);
        --border-color: #34495e;
        --header-color: #16213e; 
    }

    /* --- Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Light Mode) --- */
    body:not(.dark-mode) {
        --bg-color: #f4f6f8;
        --text-color: #000000;
        --card-bg: #fff;
        --card-shadow: 0 2px 8px rgba(0,0,0,0.05);
        --border-color: #0005C6;
        --header-color: #0095B7;
    }

    /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± (Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©) --- */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 55px;
      background-color: var(--header-color); 
      border-bottom: 1px solid var(--border-color); 
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 15px;
      box-sizing: border-box;
      color: #fff;
    }

    .header-normal {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: space-between;
    }

    .header-actions {
        display: flex;
        gap: 6px;
    }

    .header .title {
      font-size: 17px;
      font-weight: 200;
      color: #ecf0f1;
      flex-grow: 8;
      text-align: left;
    }

    .header button {
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px;
      filter: invert(1);
    }

    .header img {
      width: 24px;
      height: 24px;
    }

    /* --- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
    .search-bar-container {
        display: none;
        width: 100%;
        align-items: center;
        gap: 10px;
    }

    .search-input {
        flex-grow: 1;
        padding: 8px 12px;
        border-radius: 20px;
        border: 1px solid #ddd;
        background: #f9f9f9;
        font-size: 14px;
        outline: none;
        text-align: right;
        color: #333; 
    }

    /* --- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ --- */
    .main {
      margin-top: 130px;
      margin-bottom: 80px;
      padding: 10px;
      min-height: 80vh;
    }

    /* --- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Categories) --- */
    .categories-container {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
    }

    .category-item {
      background: var(--card-bg);
      color: var(--text-color);
      padding: 17px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: var(--card-shadow);
      transition: all 0.2s ease;
      text-align: center;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid var(--border-color);
    }
    
    .cat-info {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .cat-count {
        background-color: #fce4e1; 
        color: #e74c3c; 
        font-size: 16px;
        font-weight: 700;
        padding: 3px 8px;
        border-radius: 20px;
        border: 1px solid #e74c3c; 
    }
    
    body.dark-mode .cat-count {
        background-color: #e74c3c;
        color: #fff;
    }

    .category-item::after {
      content: 'â€º';
      font-size: 22px;
      color: var(--border-color);
    }

    /* --- Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆØ²Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø© --- */
    .content-container {
      display: none;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }

    .content-item {
      position: relative;
      width: 110px;
      height: 165px;
      background-color: var(--card-bg);
      border-radius: 10px;
      box-shadow: var(--card-shadow);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      cursor: pointer;
      border: 1px solid var(--border-color);
      transition: transform 0.2s;
      padding: 5px;
      padding-top: 10px;
    }

    .content-item img {
      width: 90px;
      height: 105px;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 8px;
    }

    .content-item.is-channel img {
        object-fit: contain;
        height: 60px;
        width: 70px;
        margin-top: 20px;
    }

    .content-item span {
      display: block;
      font-size: 11px;
      color: var(--text-color);
      text-align: center;
      line-height: 1.3;
      max-height: 32px;
      overflow: hidden;
      width: 100%;
      font-weight: 500;
    }

    /* --- Ø²Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø© (Ø§Ù„Ù‚Ù„Ø¨) --- */
    .fav-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 14px;
        color: #ccc;
        z-index: 10;
        transition: all 0.2s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .fav-btn.active {
        color: #e74c3c; 
        border-color: #e74c3c;
    }
    
    /* ÙÙˆØ§ØµÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© */
    .section-separator {
        width: 100%;
        text-align: left;
        margin: 15px 0 5px 0;
        padding-bottom: 5px;
        border-bottom: 1px solid #e74c3c;
        font-weight: 700;
        color: #e74c3c; 
        padding-left: 10px;
    }

    /* --- Ø§Ù„Ø­Ù„Ù‚Ø§Øª --- */
    .episodes-container {
        display: none;
        flex-direction: column;
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
        gap: 10px;
    }

    .season-header {
        text-align: left;
        font-size: 18px;
        font-weight: 700;
        color: var(--text-color);
        margin-top: 20px;
        margin-bottom: 10px;
        border-bottom: 2px solid #e74c3c; 
        padding-bottom: 5px;
        width: 100%;
    }

    .episode-item {
        background: var(--card-bg);
        padding: 15px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 15px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        cursor: pointer;
        border: 1px solid var(--border-color);
        transition: background 0.2s;
        text-align: left;
    }

    .play-icon {
        width: 30px;
        height: 30px;
        background: #e74c3c; 
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .play-icon::after { content: 'â–¶'; color: #fff; font-size: 12px; margin-left: 2px; }

    .episode-info { flex-grow: 1; }
    .episode-title { font-size: 14px; font-weight: 600; color: var(--text-color); margin-bottom: 4px; }
    .episode-meta { font-size: 11px; color: #888; }
    
    body.dark-mode .episode-meta { color: #a0a0a0; }


    /* --- Ø§Ù„Ù…Ø´ØºÙ„ --- */
    .player-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      z-index: 2000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .player-overlay video { width: 100%; max-height: 100%; outline: none; }

    .close-player-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.2);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 20px;
      cursor: pointer;
      z-index: 2001;
    }

    .loading-msg {
      margin-top: 50px;
      color: var(--text-color);
      font-size: 14px;
      display: none;
    }
    .error-msg {
        display: none;
        color: #e74c3c;
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #e74c3c;
        border-radius: 8px;
        width: 90%;
        max-width: 400px;
        text-align: center;
        margin-left: auto;
        margin-right: auto;
    }

    /* --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© (Bottom Navigation) --- */
    .bottom-nav {
      position: fixed;
      top: 54px;
      left: 0;
      width: 100%;
      height: 65px;
      background-color: var(--header-color); 
      border-top: 1px solid #34495e; 
      display: flex;
      justify-content: space-around;
      align-items: center;
      z-index: 1000;
      padding-bottom: 5px;
    }

    .bottom-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 14px;
      color: #FFFFFF; 
      cursor: pointer;
      width: 20%;
      transition: color 0.2s;
    }

    .bottom-nav-item.active { 
      color: #e74c3c; 
      font-weight: 600; 
    }

    .bottom-nav-item img {
      width: 23px;
      height: 23px;
      margin-bottom: 5px;
      filter: invert(1) grayscale(100%); 
      opacity: 0.7;
      transition: all 0.2s;
    }

    .bottom-nav-item.active img { 
      filter: invert(1); 
      opacity: 1; 
      transform: scale(1.1); 
    }
    span i{
        position: relative;
            right: 0;
            font-size: 24px;
            cursor: pointer;
            color: #FFFFFF;
      top: 0;
      margin: 1px;
      filter: invert(1) grayscale(100%); 
      opacity: 0.7;
      transition: all 0.2s;
    }
      .sidebar {
            height: 100%;
            width: 0;
            position: fixed;
            top: 0;
            right: 0;
            background-color: #fff;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 0px;
            z-index: 1009;
        }
.sidebar .close-btn {
  position: absolute;
  top: 10px;
  left: 5px;
  font-size: 29px;
  color: white;
  cursor: pointer;
  width: 40px;
  height: 40px;
  background: linear-gradient(45deg, #ff4b2b, #ff416c);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s, box-shadow 0.3s;
}
        .sidebar.open {
            right: 5px;
        }

        .sidebar .logo {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            padding: 0;
            margin: 0;
            background-color: #D3C566;
            border-bottom: 1px solid #ccc;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
            margin-bottom: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .sidebar ul li {
            position: relative;
            top: 0;
            border-bottom: 1px solid #8bf4ff;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
        }

        .sidebar ul li a {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            margin: 0px;
            padding: 0px;
            width: 100%;
            font-size: 10px;
            text-decoration: none;
            color: #111;
        }
.sidebar ul li a i{
  margin:5px;
  padding:5px;
  font-size:22px;
 color: #FF0000;
}
        
        .sidebar .close-btn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-right: 50px;
        }
        .overlay {
            position: fixed;
            display: none;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1001;
            cursor: pointer;
        }
        footer {
          display: flex;
          justify-content: center;
          align-items: center;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            text-align: center;
            padding: 7px;
            font-size: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #ffffffcc;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }

        .sidebar footer span {
            color: #0094f3;
        }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-normal" id="headerNormal">
        <div class="header-actions">
            <button class="back-button" id="back-button" onclick="handleBackButton()" style="display: none;">
                <img src="https://cdn-icons-png.flaticon.com/128/507/507257.png" alt="Back" />
            </button>
        </div>
        <div class="title" id="header-title">RAYAN TV</div>
        <button class="reload-button" onclick="reloadPage()">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Refresh_icon.svg/768px-Refresh_icon.svg.png" alt="Reload" />
        </button>
        <div class="header-actions">
             <button class="mode-toggle" id="mode-toggle" onclick="toggleDarkMode()">
                <img id="mode-icon" src="https://static.thenounproject.com/png/4066357-200.png" alt="Dark Mode" />
            </button>
            <button class="search" onclick="toggleSearch(true)">
                <img src="https://cdn-icons-png.flaticon.com/128/10385/10385257.png" alt="Search" />
            </button>
            <div class="header-actions" onclick="openNav()">
                 <span class="menu-icon"><i>&#9776</i></span>
            </div>
        </div>
        </div>

    <div class="search-bar-container" id="searchContainer">
        <button onclick="toggleSearch(false)">âœ•</button>
        <input type="text" id="searchInput" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ù‡Ù†Ø§..." onkeyup="handleSearch()">
    </div>
  </div>

  <div class="main">
    <div id="loading" class="loading-msg">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    <div id="error-message" class="error-msg"></div> <div class="categories-container" id="categories"></div>
    <div class="content-container" id="content-list"></div>
    <div class="episodes-container" id="episodes-list"></div>
  </div>

  <div class="player-overlay" id="playerOverlay">
    <button class="close-player-btn" onclick="closePlayer()">âœ•</button>
    <video id="videoPlayer" controls autoplay playsinline></video>
  </div>

  <div class="bottom-nav">
    <div class="bottom-nav-item active" id="nav-live" onclick="switchMode('live')">
      <img src="https://cdn-icons-png.flaticon.com/128/167/167018.png" alt="Live">
      <span>Ø§Ù„Ù‚Ù†ÙˆØ§Øª</span>
    </div>
    <div class="bottom-nav-item" id="nav-movie" onclick="switchMode('movie')">
      <img src="https://cdn-icons-png.flaticon.com/128/4240/4240150.png" alt="Movies">
      <span>Ø§Ù„Ø£ÙÙ„Ø§Ù…</span>
    </div>
    <div class="bottom-nav-item" id="nav-series" onclick="switchMode('series')">
      <img src="https://cdn-icons-png.flaticon.com/128/11451/11451050.png" alt="Series">
      <span>Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</span>
    </div>
         <div class="bottom-nav-item" id="nav-favorites" onclick="switchMode('favorites')">
      <img src="https://cdn-icons-png.flaticon.com/512/7245/7245022.png" alt="Favorites">
      <span>Ø§Ù„Ù…ÙØ¶Ù„Ø©</span>
    </div>
  </div>
    
 <div class="sidebar" id="mySidebar">
        <button class="close-btn" onclick="closeNav()">âœ•</button>
        <div class="logo">
            <h2>RAYAN TV</h2>
        </div>
<ul>
    <li><a href="#"><i style="color:lightblue" class="fa-solid fa-earth"></i><h3> Website</h3></a></li>
    <li><a href="#"><i style="color: #3b5998;" class="fab fa-facebook"></i><h3> Facebook</h3></a></li>
    <li><a href="#"><i style="color: #25D366" class="fab fa-whatsapp"></i><h3> WhatsApp</h3></a></li>
    <li><a href="#"><i class="fab fa-youtube"></i><h3> YouTube</h3></a></li>
    <li><a href="#"><i style="color: #111111;
  filter: drop-shadow(-1px -1px 0 #24f6f0) contrast(120%) brightness(100%);
  z-index: -1;" class="fab fa-tiktok"></i><h3> TikTok</h3></a></li>
    <li><a href="#"><i style="color:#229ED9" class="fab fa-telegram"></i><h3> Telegram</h3></a></li>
    <li id="shareButton"><a href="#"><i class="fas fa-share-alt"></i><h3> Share Apps</h3></a></li>
    <li><a href="#"><i class="fa-solid fa-envelope"></i><h3> Contact</h3></a></li>
</ul>
<footer>
    <p><span></span>&copy;2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>
    </div>

<div id="myOverlay" class="overlay" onclick="closeNav()"></div>
  <script>
    // ğŸ”” Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù‡Ù†Ø§: ØªØºÙŠÙŠØ± Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø¥Ù„Ù‰ HTTPS 
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ø§ ÙŠØ¯Ø¹Ù… HTTPSØŒ ÙÙ„Ù† ÙŠØ¹Ù…Ù„ØŒ ÙˆÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø§Ø¯Ù… ÙˆØ³ÙŠØ· (Proxy)
    const API_URL = 'https://cdnplus-ott.tv'; 
    const USERNAME = '65787';
    const PASSWORD = '54353';

    // --- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© (LocalStorage) ---
    function getFavorites() {
        const stored = localStorage.getItem('rayan_favs_v2');
        return stored ? JSON.parse(stored) : { live: [], movie: [], series: [] };
    }

    function saveFavorite(item, type) {
        const favs = getFavorites();
        if (!favs[type].some(f => (type === 'series' ? f.series_id === item.series_id : f.stream_id === item.stream_id))) {
            favs[type].push(item);
            localStorage.setItem('rayan_favs_v2', JSON.stringify(favs));
        }
    }

    function removeFavorite(id, type) {
        const favs = getFavorites();
        favs[type] = favs[type].filter(f => (type === 'series' ? f.series_id != id : f.stream_id != id));
        localStorage.setItem('rayan_favs_v2', JSON.stringify(favs));
    }

    function isFavorite(id, type) {
        const favs = getFavorites();
        return favs[type].some(f => (type === 'series' ? f.series_id == id : f.stream_id == id));
    }

    function toggleFavorite(event, item, type) {
        event.stopPropagation();
        
        const id = type === 'series' ? item.series_id : item.stream_id;
        const btn = event.currentTarget;
        
        if (isFavorite(id, type)) {
            removeFavorite(id, type);
            btn.classList.remove('active');
            btn.innerHTML = 'â™¥';
            
            if(currentMode === 'favorites' && currentView === 'list') {
                btn.parentElement.remove();
                if(contentDiv.children.length === 0) contentDiv.innerHTML = '<p>Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙØ§Ø±ØºØ©</p>';
            }
        } else {
            saveFavorite(item, type);
            btn.classList.add('active');
        }
    }

    // --- Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ---
    let currentMode = 'live'; 
    let currentView = 'categories'; 
    let lastCategoryName = ''; 
    let hls = null;
    
    let allDataCache = { live: [], movie: [], series: [] };
    let categoryCounts = { live: {}, movie: {}, series: {} };
    let isDataLoaded = { live: false, movie: false, series: false };

    // Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙØ­Ø©
    const body = document.body;
    const categoriesDiv = document.getElementById('categories');
    const contentDiv = document.getElementById('content-list');
    const episodesDiv = document.getElementById('episodes-list');
    const titleDiv = document.getElementById('header-title');
    const backBtn = document.getElementById('back-button');
    const loadingDiv = document.getElementById('loading');
    const errorDiv = document.getElementById('error-message'); // Ø¹Ù†ØµØ± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
    const playerOverlay = document.getElementById('playerOverlay');
    const videoPlayer = document.getElementById('videoPlayer');
    
    const headerNormal = document.getElementById('headerNormal');
    const searchContainer = document.getElementById('searchContainer');
    const searchInput = document.getElementById('searchInput');
    const modeIcon = document.getElementById('mode-icon');
    
    // ÙˆØ¸ÙŠÙØ© Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø®Ø·Ø£
    function showError(message) {
        loadingDiv.style.display = 'none';
        categoriesDiv.innerHTML = '';
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
    }

    function hideError() {
        errorDiv.style.display = 'none';
    }


    function cleanName(originalName) {
        if (!originalName) return "No Name";
        let newName = originalName;
        newName = newName.replace(/\|AR\||\|FR\||\[HD\]|\|HD\||\(BACKUP\)/g, "",);
        newName = newName.replace(/_/g, " ");
        return newName.trim();
    }

    // --- ÙˆØ¸Ø§Ø¦Ù Ø¬Ø¯ÙŠØ¯Ø©: Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹ ---
    function reloadPage() {
        isDataLoaded = { live: false, movie: false, series: false }; 
        hideError(); // Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø³Ø§Ø¨Ù‚Ø©
        switchMode(currentMode);
    }

    function toggleDarkMode() {
        body.classList.toggle('dark-mode');
        const isDarkMode = body.classList.contains('dark-mode');
        
        // ØªØ­Ø¯ÙŠØ« Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙˆØ¶Ø¹ ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙØ¶ÙŠÙ„
        if (isDarkMode) {
            modeIcon.src = "https://static.thenounproject.com/png/4066357-200.png"; 
            localStorage.setItem('rayan_mode', 'dark');
        } else {
            modeIcon.src = "https://static.thenounproject.com/png/4066357-200.png"; 
            localStorage.setItem('rayan_mode', 'light');
        }
    }

    function applySavedMode() {
        const savedMode = localStorage.getItem('rayan_mode');
        if (savedMode === 'dark') {
            body.classList.add('dark-mode');
            modeIcon.src = "https://static.thenounproject.com/png/4066357-200.png"; 
        } else {
             modeIcon.src = "https://static.thenounproject.com/png/4066357-200.png";
        }
    }
    // ----------------------------------------------


    // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¨Ø­Ø« ---
    function toggleSearch(show) {
        if (show) {
            headerNormal.style.display = 'none';
            searchContainer.style.display = 'flex';
            searchInput.focus();
            categoriesDiv.style.display = 'none';
            contentDiv.style.display = 'flex';
            episodesDiv.style.display = 'none';
            hideError(); 
            contentDiv.innerHTML = '<p style="width:100%; margin-top:20px; color:#999;">Ø§ÙƒØªØ¨ Ù„Ù„Ø¨Ø­Ø«...</p>';
            currentView = 'search';
        } else {
            headerNormal.style.display = 'flex';
            searchContainer.style.display = 'none';
            searchInput.value = '';
            if (currentMode === 'favorites') showFavoritesView();
            else resetToCategories();
        }
    }

    function handleSearch() {
        const query = searchInput.value.toLowerCase();
        
        let dataList = [];
        if (currentMode === 'favorites') {
             const favs = getFavorites();
             dataList = [...favs.live, ...favs.movie, ...favs.series];
        } else {
             dataList = allDataCache[currentMode];
        }
        
        if (!dataList || dataList.length === 0) {
            contentDiv.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø­Ø«</p>';
            return;
        }

        if (query.length < 2) {
            contentDiv.innerHTML = '<p style="width:100%; margin-top:20px; color:#999;">Ø£Ø¯Ø®Ù„ Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</p>';
            return;
        }

        const results = dataList.filter(item => {
            const name = (item.name || "").toLowerCase();
            return name.includes(query);
        });

        contentDiv.innerHTML = '';
        if (results.length > 0) {
            results.slice(0, 50).forEach(item => {
                let type = currentMode;
                if(currentMode === 'favorites') {
                    if(item.series_id) type = 'series';
                    else if(item.container_extension) type = 'movie';
                    else type = 'live';
                }
                createContentItem(item, type);
            });
        } else {
            contentDiv.innerHTML = '<p style="width:100%; margin-top:20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>';
        }
    }

    // --- Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ---
    function createContentItem(item, explicitMode = null) {
        const mode = explicitMode || currentMode;

        const el = document.createElement('div');
        el.className = mode === 'live' ? 'content-item is-channel' : 'content-item';

        let name, icon, id, ext;
        if (mode === 'series') {
            name = item.name;
            icon = item.cover ? item.cover : 'https://cdn-icons-png.flaticon.com/128/3163/3163508.png';
            id = item.series_id;
        } else {
            name = item.name;
            icon = item.stream_icon ? item.stream_icon : 'https://cdn-icons-png.flaticon.com/128/777/777242.png';
            id = item.stream_id;
            ext = item.container_extension;
        }
        
        const isFav = isFavorite(id, mode);
        const favClass = isFav ? 'active' : '';

        el.innerHTML = `
            <button class="fav-btn ${favClass}">â™¥</button>
            <img src="${icon}" alt="${cleanName(name)}" onerror="this.src='https://cdn-icons-png.flaticon.com/128/4240/4240150.png'">
            <span>${cleanName(name)}</span>
        `;

        const favBtn = el.querySelector('.fav-btn');
        favBtn.onclick = (e) => toggleFavorite(e, item, mode);

        if (mode === 'series') {
            el.onclick = () => {
                if(currentView === 'search') {
                    headerNormal.style.display = 'flex';
                    searchContainer.style.display = 'none';
                }
                fetchSeriesEpisodes(id, name);
            };
        } else {
            el.onclick = () => openPlayer(id, ext, mode);
        }
        contentDiv.appendChild(el);
    }

    // --- Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ ---
    function switchMode(mode) {
        if (currentMode === mode && currentView === 'categories' && mode !== 'favorites' && isDataLoaded[mode]) return;
        
        if (currentView === 'search') toggleSearch(false);

        currentMode = mode;
        
        document.querySelectorAll('.bottom-nav-item').forEach(el => el.classList.remove('active'));
        document.getElementById(`nav-${mode}`).classList.add('active');

        if (mode === 'favorites') {
            showFavoritesView();
        } else {
            resetToCategories();
            
            if(mode === 'live') titleDiv.textContent = 'RAYAN TV PRO';
            else if(mode === 'movie') titleDiv.textContent = 'RAYAN TV PRO';
            else if(mode === 'series') titleDiv.textContent = 'RAYAN TV PRO';

            fetchCategories();
        }
    }

    // --- Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© ---
    function showFavoritesView() {
        categoriesDiv.style.display = 'none';
        contentDiv.style.display = 'flex';
        episodesDiv.style.display = 'none';
        backBtn.style.display = 'none';
        hideError();
        currentView = 'list';
        titleDiv.textContent = 'FAVORITES';

        const favs = getFavorites();
        contentDiv.innerHTML = '';

        let hasData = false;

        if (favs.live.length > 0) {
            hasData = true;
            contentDiv.innerHTML += '<div class="section-separator">Live Channels</div>';
            favs.live.forEach(item => createContentItem(item, 'live'));
        }

        if (favs.movie.length > 0) {
            hasData = true;
            contentDiv.innerHTML += '<div class="section-separator" style="margin-top:20px;">Movies</div>';
            favs.movie.forEach(item => createContentItem(item, 'movie'));
        }

        if (favs.series.length > 0) {
            hasData = true;
            contentDiv.innerHTML += '<div class="section-separator" style="margin-top:20px;">Series</div>';
            favs.series.forEach(item => createContentItem(item, 'series'));
        }

        if (!hasData) {
            contentDiv.innerHTML = '<div style="width:100%; margin-top:50px; color:#999;">Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯.<br>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù„Ø¨ â™¥ Ù„Ù„Ø¥Ø¶Ø§ÙØ©.</div>';
        }
    }

    // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„ ---
    function handleBackButton() {
        if (currentView === 'episodes') {
            episodesDiv.style.display = 'none';
            contentDiv.style.display = 'flex';
            currentView = 'list';
            titleDiv.textContent = lastCategoryName || 'FAVORITES'; 
        } else if (currentView === 'list') {
            if (currentMode !== 'favorites') {
                resetToCategories();
            }
        }
    }

    function resetToCategories() {
        categoriesDiv.style.display = 'flex';
        contentDiv.style.display = 'none';
        episodesDiv.style.display = 'none';
        backBtn.style.display = 'none';
        hideError(); 
        currentView = 'categories';
    }

    // --- Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ---
    async function fetchCategories() {
        if (currentMode === 'favorites') return;

        loadingDiv.style.display = 'block';
        categoriesDiv.innerHTML = '';
        hideError();
        
        let actionCat, actionStream;
        if (currentMode === 'live') { actionCat = 'get_live_categories'; actionStream = 'get_live_streams'; } 
        else if (currentMode === 'movie') { actionCat = 'get_vod_categories'; actionStream = 'get_vod_streams'; } 
        else if (currentMode === 'series') { actionCat = 'get_series_categories'; actionStream = 'get_series'; }

        try {
            let categoriesData;
            
            if (!isDataLoaded[currentMode]) {
                loadingDiv.textContent = "Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";
                const [catsRes, streamsRes] = await Promise.all([
                    fetch(`${API_URL}/player_api.php?username=${USERNAME}&password=${PASSWORD}&action=${actionCat}`),
                    fetch(`${API_URL}/player_api.php?username=${USERNAME}&password=${PASSWORD}&action=${actionStream}`)
                ]);
                
                categoriesData = await catsRes.json();
                const allData = await streamsRes.json();

                if (Array.isArray(allData)) {
                    allDataCache[currentMode] = allData;
                    let tempCounts = {};
                    allData.forEach(item => {
                        const catId = item.category_id;
                        if (tempCounts[catId]) tempCounts[catId]++;
                        else tempCounts[catId] = 1;
                    });
                    categoryCounts[currentMode] = tempCounts;
                }
                isDataLoaded[currentMode] = true;
            } else {
                const response = await fetch(`${API_URL}/player_api.php?username=${USERNAME}&password=${PASSWORD}&action=${actionCat}`);
                categoriesData = await response.json();
            }

            loadingDiv.style.display = 'none';

            if (Array.isArray(categoriesData)) {
                categoriesData.forEach(cat => {
                    const count = categoryCounts[currentMode][cat.category_id] || 0;
                    const displayName = cleanName(cat.category_name);

                    const btn = document.createElement('div');
                    btn.className = 'category-item';
                    btn.innerHTML = `
                        <div class="cat-info">
                            <span>${displayName}</span>
                            <span class="cat-count">${count}</span>
                        </div>
                    `;
                    btn.onclick = () => fetchContent(cat.category_id, displayName);
                    categoriesDiv.appendChild(btn);
                });
            } else {
                 showError("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù‚Ø³Ø§Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„.");
            }
        } catch (error) {
            console.error("Fetch Error:", error);
            // ğŸ”” Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ù…ÙˆØ¬Ù‡Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© CORS / HTTPS
            showError(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ø³Ø¨Ø¨ Ù‡Ùˆ Ø­Ø¸Ø± Ù†Ø·Ø§Ù‚ GitHub Pages Ù…Ù† Ù‚Ø¨Ù„ Ø®Ø§Ø¯Ù… Ø§Ù„Ù€ API Ø£Ùˆ Ø¹Ø¯Ù… Ø¯Ø¹Ù… Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù…Ù† (HTTPS). (${error.message || 'Network Error'})`);
        }
    }

    // --- Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‚Ø³Ù… ---
    function fetchContent(catId, catName) {
        categoriesDiv.style.display = 'none';
        contentDiv.style.display = 'flex';
        contentDiv.innerHTML = '';
        
        currentView = 'list';
        titleDiv.textContent = catName;
        lastCategoryName = catName; 
        backBtn.style.display = 'block';

        const allItems = allDataCache[currentMode];
        if (allItems && allItems.length > 0) {
            const filteredItems = allItems.filter(item => item.category_id == catId);
            if (filteredItems.length > 0) {
                filteredItems.forEach(item => createContentItem(item));
            } else {
                contentDiv.innerHTML = '<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰</p>';
            }
        } else {
            contentDiv.innerHTML = '<p>Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';
            isDataLoaded[currentMode] = false;
            fetchCategories(); 
        }
    }

    // --- Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ù…Ø³Ù„Ø³Ù„ ---
    async function fetchSeriesEpisodes(seriesId, seriesName) {
        contentDiv.style.display = 'none';
        episodesDiv.style.display = 'flex';
        episodesDiv.innerHTML = '';
        loadingDiv.style.display = 'block';
        loadingDiv.textContent = "Ø¬Ù„Ø¨ Ø§Ù„Ø­Ù„Ù‚Ø§Øª...";
        hideError();
        
        currentView = 'episodes';
        titleDiv.textContent = cleanName(seriesName);
        backBtn.style.display = 'block'; 
        
        try {
            const url = `${API_URL}/player_api.php?username=${USERNAME}&password=${PASSWORD}&action=get_series_info&series_id=${seriesId}`;
            const response = await fetch(url);
            const data = await response.json();
            loadingDiv.style.display = 'none';

            const episodesData = data.episodes;
            
            if (episodesData && Object.keys(episodesData).length > 0) {
                for (const seasonNum in episodesData) {
                    const seasonHeader = document.createElement('div');
                    seasonHeader.className = 'season-header';
                    seasonHeader.textContent = `Season ${seasonNum}`;
                    episodesDiv.appendChild(seasonHeader);

                    episodesData[seasonNum].forEach(ep => {
                        const epDiv = document.createElement('div');
                        epDiv.className = 'episode-item';
                        
                        let epTitle = cleanName(ep.title);
                        if(epTitle.length < 2) epTitle = `Episode ${ep.episode_num}`;

                        epDiv.innerHTML = `
                            <div class="play-icon"></div>
                            <div class="episode-info">
                                <div class="episode-title">${epTitle}</div>
                                <div class="episode-meta">Ep ${ep.episode_num} â€¢ ${ep.container_extension}</div>
                            </div>
                        `;
                        epDiv.onclick = () => openPlayer(ep.id, ep.container_extension, 'series_episode');
                        episodesDiv.appendChild(epDiv);
                    });
                }
            } else {
                episodesDiv.innerHTML = '<p style="margin-top:20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù„Ù‚Ø§Øª Ù…ØªØ§Ø­Ø©</p>';
            }

        } catch (error) {
            console.error(error);
            loadingDiv.style.display = 'none';
            showError("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ù„Ø³Ù„.");
        }
    }

    // --- Ø§Ù„Ù…Ø´ØºÙ„ ---
    function openPlayer(streamId, extension, forcedMode = null) {
        let streamUrl;
        const mode = forcedMode || currentMode;
        
        // ğŸ”” Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¨Ø« Ø£ÙŠØ¶Ø§Ù‹ ØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ù„Ù€ HTTPS
        if (mode === 'live') {
            streamUrl = `${API_URL}/live/${USERNAME}/${PASSWORD}/${streamId}.m3u8`;
        } else if (mode === 'movie') {
            streamUrl = `${API_URL}/movie/${USERNAME}/${PASSWORD}/${streamId}.${extension || 'mp4'}`;
        } else if (mode === 'series' || mode === 'series_episode') {
            streamUrl = `${API_URL}/series/${USERNAME}/${PASSWORD}/${streamId}.${extension || 'mp4'}`;
        }

        playerOverlay.style.display = 'flex';

        if (mode === 'live' && Hls.isSupported()) {
            if (hls) hls.destroy();
            hls = new Hls();
            hls.loadSource(streamUrl);
            hls.attachMedia(videoPlayer);
            hls.on(Hls.Events.MANIFEST_PARSED, () => videoPlayer.play());
            hls.on(Hls.Events.ERROR, (event, data) => {
                if (data.fatal) {
                    console.error('HLS Fatal Error:', data.details);
                    alert("ÙØ´Ù„ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø«: Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø£Ùˆ ÙÙŠ Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ (HTTPS).");
                    closePlayer();
                }
            });
        } else {
            videoPlayer.src = streamUrl;
            videoPlayer.play();
        }
    }

    function closePlayer() {
        playerOverlay.style.display = 'none';
        videoPlayer.pause();
        videoPlayer.src = "";
        if (hls) {
            hls.destroy();
            hls = null;
        }
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
    window.onload = function() {
        applySavedMode(); // ØªØ·Ø¨ÙŠÙ‚ ÙˆØ¶Ø¹ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸
        switchMode('live');
    };

    // Sidebar functions
    function openNav() {
        document.getElementById("mySidebar").style.width = "250px";
        document.getElementById("myOverlay").style.display = "block";
    }

    function closeNav() {
        document.getElementById("mySidebar").style.width = "0";
        document.getElementById("myOverlay").style.display = "none";
    }

    const shareButton = document.getElementById('shareButton');

    // Web Share API
    if (navigator.share) {
        shareButton.addEventListener('click', async () => {
            try {
                await navigator.share({
                    title: 'RAYAN TV', 
                    text: 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø£ÙÙ„Ø§Ù… ÙˆØ§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±!', 
                    url: window.location.href, 
                });
            } catch (error) {
                console.error('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:', error);
            }
        });
    } else {
        // Fallback or disable
        shareButton.onclick = (e) => {
            e.preventDefault();
            alert("Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ. ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠØ§Ù‹.");
        };
    }

    // Notification Check
    if ("Notification" in window) {
        if (Notification.permission === "default") {
            document.addEventListener("DOMContentLoaded", () => {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        new Notification("Ø´ÙƒØ±Ù‹Ø§ Ù„Ù„Ø³Ù…Ø§Ø­!", {
                            body: "Ø³ÙˆÙ Ù†Ø±Ø³Ù„ Ù„Ùƒ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.",
                            icon: "https://via.placeholder.com/100", 
                        });
                    }
                });
            });
        }
    }
  </script>
</body>
</html>
